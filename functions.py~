

import sys
import os
import spotipy
import spotipy.util as util

# for user
def get_user_artists(username, sp):

   	    def gettrack(artist_name):
        	response = sp.artist_top_tracks(alink)	#getting top track from artist
            for track in response['tracks'][:1]:
	        print(track['name'])

    	    
    	    results = sp.current_user_saved_tracks()
    	    artists = results['items']
 
    
    
	    while results['next']:	#collecting all artists
    		results = sp.next(results)
    		artists.extend(results['items'])
	
    	    before_artist='null'
   
    	    for item in artists:	
		track = item['track']
		now_artist= track['artists'][0]['name']
		alink = track['artists'][0]['uri']
		if now_artist != before_artist:	#getting one artist only
	    	    print now_artist
	    	    gettrack(alink)
	   	    before_artist = now_artist
		else:
			taco = 1	#temp fix	
    else:
    	    print "Can't get token for", username

			
			
